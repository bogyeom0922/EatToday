{{>layout/header}}

<div class="detail_background">
<!--    뒤로가기-->
    <a href=""><img src="/img/go_back.png" class="go_back"></a>
<!--    model 'rest'에 매장 상세 정보 등록하여 출력-->
    {{#rest}}
        <img src="{{store_img}}" class="rest_img" alt="매장 이미지">
<!--    매장 이름, 좋아요 버튼 배경-->
        <div class="title_background">
            <div class="store_name">
                {{store_name}}
            </div>
            <div class="bookmark">
                <img src="/img/bookmark_x.png" alt="매장 즐겨찾기" class="bookmark_img">
            </div>
        </div>

        <div class="rest_detail">
            <table>
                <tr>
                    <td style="width:20%; font-weight: 500">영업시간</td>
                    <td style="width:80%; font-weight: 300">{{store_time}}</td>
                </tr>
                <tr>
                    <td style="width:20%; font-weight: 500">주소</td>
                    <td style="width:80%; font-weight: 300">{{store_address}}</td>
                </tr>
                <tr>
                    <td style="width:20%; font-weight: 500">대표번호</td>
                    <td style="width:80%; font-weight: 300">{{store_phone}}</td>
                </tr>
                <tr>
                    <td style="width:20%; font-weight: 500">별점</td>
                    <td style="width:80%; font-weight: 300">{{store_star}}</td>
                </tr>
            </table>

            메뉴:
            <div id="MenuSentence">
                {{store_menu}}
            </div>
            <div id="MenuDisplay"></div>
            리뷰:
            <div id="ReviewSentence">
                {{review_content}}
            </div>
            <div id="ReviewDisplay"></div>

    <!--        리뷰 작성 form-->
            <form>
                <label>리뷰 작성</label>
                <textarea type="text"></textarea>
                <button type="button">등록</button>
            </form>
        </div>
    {{/rest}}
</div>

<script type="text/javascript">

    const menu_str = document.getElementById("MenuSentence").textContent; //div 내용 가져옴
    const menu_arr = menu_str.split(", ");

    const MenuDisplay = document.getElementById("MenuDisplay"); // 문장 표시할 div 가져옴
    document.getElementById("MenuSentence").style.display = "none"; //원래 있던 문장 숨기기

    menu_arr.forEach((menu, menu_index) => {
        let menu_text = menu.trim(); // 요소 앞 뒤 불필요한 공백 제거
        if (menu_index === menu_arr.length - 1) {
            menu_text = menu_text.slice(0, -1); // 마지막 배열 요소 마지막 글자 제거
        }
        MenuDisplay.append(menu_text); //div에 글자 추가
        MenuDisplay.appendChild(document.createElement("br")); // br 추가
    });

</script>

<script type="text/javascript">

    const review_str = document.getElementById("ReviewSentence").textContent; //div 내용 가져옴
    const review_arr = review_str.split("+ ");

    const ReviewDisplay = document.getElementById("ReviewDisplay"); // 문장 표시할 div 가져옴
    document.getElementById("ReviewSentence").style.display = "none"; //원래 있던 문장 숨기기

    review_arr.forEach((review, review_index) => {
        let review_text = review.trim(); // 요소 앞 뒤 불필요한 공백 제거
        if (review_index === review_arr.length - 1) {
            review_text = review_text.slice(0, -1); // 마지막 배열 요소 마지막 글자 제거
        }
        ReviewDisplay.append(review_text); //div에 글자 추가
        ReviewDisplay.appendChild(document.createElement("br")); // br 추가
    });

</script>

{{>layout/footer}}