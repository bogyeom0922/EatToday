<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/css/main.css?after" rel="stylesheet">
    <title>Restaurant details</title>
</head>
<body>
<!--    model 'rest'에 매장 상세 정보 등록하여 출력-->
    {{#rest}}
        매장 사진: <img src="{{store_img}}"><br>
        매장 이름: {{store_name}}<br>
        영업시간: {{store_time}}<br>
        주소: {{store_address}}<br>
        대표번호: {{store_phone}}<br>
        별점: {{store_star}}<br>
        <div id="MenuSentence">
        {{store_menu}}
        </div>
        <div id="MenuDisplay"></div>

        <div id="ReviewSentence">
            {{review_content}}
        </div>
        <div id="ReviewDisplay"></div>
    {{/rest}}

<script type="text/javascript">

    const str = document.getElementById("MenuSentence").textContent; //div 내용 가져옴
    const arrs = str.split(", ");

    const MenuDisplay = document.getElementById("MenuDisplay"); // 문장 표시할 div 가져옴
    document.getElementById("MenuSentence").style.display = "none"; //원래 있던 문장 숨기기

    arrs.forEach((arr, index) => {
        let text = arr.trim(); // 요소 앞 뒤 불필요한 공백 제거
        if (index === arrs.length - 1) {
            text = text.slice(0, -1); // 마지막 배열 요소 마지막 글자 제거
        }
        MenuDisplay.append(text); //div에 글자 추가
        MenuDisplay.appendChild(document.createElement("br")); // br 추가
    });

</script>

<script type="text/javascript">

    const str = document.getElementById("ReviewSentence").textContent; //div 내용 가져옴
    const arrs = str.split("+ ");

    const ReviewDisplay = document.getElementById("ReviewDisplay"); // 문장 표시할 div 가져옴
    document.getElementById("ReviewSentence").style.display = "none"; //원래 있던 문장 숨기기

    arrs.forEach((arr, index) => {
        let text = arr.trim(); // 요소 앞 뒤 불필요한 공백 제거
        if (index === arrs.length - 1) {
            text = text.slice(0, -1); // 마지막 배열 요소 마지막 글자 제거
        }
        ReviewDisplay.append(text); //div에 글자 추가
        ReviewDisplay.appendChild(document.createElement("br")); // br 추가
    });

</script>
</body>
</html>